    // Convert to list of entries and sort by frequency
    List<Map.Entry<Integer, Integer>> entries = new ArrayList<>(freqMap.entrySet());
    entries.sort((a, b) -> b.getValue() - a.getValue());

    // Build result list for top k elements
    List<Integer> result = new ArrayList<>();
    for (int i = 0; i < k; i++) {
        result.add(entries.get(i).getKey());
    }

    return result;
}
